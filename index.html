<!DOCTYPE html>
<html>
<head>
	<title>Super Game</title>

	<meta charset="utf-8">
	<meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1, maximum-scale=1,user-scalable=no" />

	<!-- Le styles -->
    <link href="css/main.css" rel="stylesheet">

</head>
<body>


      
  <!-- Super Mario BG -->
  <div id="bg-mario" class="bg-mario"></div>

  <!-- Super Mario -->
  <a href="#"><div id="superMario" class="superMario"></div></a>

  <!-- Goomba -->
  <div id="goomba" class="goomba"></div>


<!-- jQuery normal -->
<script type="text/javascript" src="js/jquery.min.js"></script>

<!-- Ajouté ça pour meilleures animations -->
<script type="text/javascript" src="js/jquery.easing.1.3.js"></script>

<script>
jQuery(document).ready(function(){

marioTombe();
goombaAvance();

	// Disable scrolling
	$("body").css("overflow", "hidden");


    // Si on clique sur mario
    $("#superMario").click(function(){

      	// On joue l'animation de mario qui saute
      	marioSaute();

    });


}); // fin du jQuery


 $(document).keydown(function(keyPressed) {

   if (keyPressed.keyCode == 38) { // If we push the UP key
     marioSaute();
   }
   if (keyPressed.keyCode == 37) { // If we push the LEFT key
     marioRecule();
   }
   if (keyPressed.keyCode == 39) { // If we push the RIGHT key
     marioAvance();
   }

  });


	// loader la musique d'avance
	var audioElement1 = document.createElement('audio');

	audioElement1.setAttribute('src', 'sound/boing.mp3'); // Fonctionne juste sous webkit browsers

	if ($.browser.mozilla || $.browser.opera) {
	    audioElement1.setAttribute('src', 'sound/boing.ogv'); // Pour que ça joue partout
	}


    function marioTombe(){


      // Mets Mario en haut et fait le tomber
      //$("#superMario").css({'top':'0', 'display':'block', 'opacity':'1'}).animate({top:"+=725px"},1500);

      // Fait apparatre Mario en Fade in
      $("#superMario" ).css({'visibility':'visible', 'display':'block', 'opacity':'0'}).fadeTo( 2000 , 1, function() {});

    }

    function marioSaute(){


      // Mario qui saute
      $("#superMario").css({'display':'block', 'opacity':'1'}).animate({bottom:"+=100px"},400);

      // Boing sound effect
    	audioElement1.play();

      // Mario qui redescend
      $("#superMario").css({'display':'block', 'opacity':'1'}).animate({bottom:"-=100px"},400);

    }

    function marioRecule(){

    	//mario image reverse
  	  $("#superMario").css({'transform':'scaleX(-1)', 'opacity':'1'});

      // Mario qui recule
      $("#superMario").css({'display':'block', 'opacity':'1'}).animate({left:"-=100px"},400);

    }

    function marioAvance(){

    	//mario image reverse
    	$("#superMario").css({'transform':'scaleX(1)', 'opacity':'1'});

      // Mario qui avance
      $("#superMario").css({'display':'block', 'opacity':'1'}).animate({left:"+=100px"},400);

    }


    function goombaAvance(){


      // Fait apparatre Goomba en Fade in
      $("#goomba" ).css({'visibility':'visible', 'display':'block', 'opacity':'0'}).fadeTo( 2000 , 1, function() {});

      // Goomba qui avance vers Mario
      $("#goomba").css({'display':'block', 'opacity':'1'}).animate({left:"-=1200px"},5000);

    }

</script>


</body>
</html>